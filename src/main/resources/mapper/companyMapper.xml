<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.TeamProject.company.mapper.CompanyMapper">

  <resultMap id="getCompanyMap" type="java.util.HashMap">
	 <result property="com_id"      column="com_id"   />
	 <result property="com_name"    column="com_name" />
	 <result property="com_num"     column="com_num"  />
	 <result property="com_boss"    column="com_boss" />
	 <result property="com_pw"      column="com_pw"   />
  </resultMap>
	
	<insert id = "insertCompany">
	INSERT INTO COMPANY  (
		COM_ID,
		COM_NAME,
		COM_NUM,
		COM_BOSS,
		COM_PW)
	VALUES (
		#{ com_id   },
		#{ com_name },
		#{ com_num  },
		#{ com_boss },
		#{ com_pw   })	
	</insert>
	
	<select id = "getCompany" resultMap = "getCompanyMap">
	 SELECT
	 	COM_ID,
	 	COM_NAME,
	 	COM_NUM,
	 	COM_BOSS,
	 	COM_PW
     FROM COMPANY
     WHERE COM_ID  =  #{ com_id }
	</select> 
	
	
	<update  id="updateCompany">
      UPDATE   COMPANY
         SET   COM_ID     = #{ com_id   },
               COM_NAME   = #{ com_name },
               COM_NUM    = #{ com_num  }, 
               COM_BOSS   = #{ com_boss },
               COM_PW     = #{ com_pw   } 
       WHERE   COM_ID     = #{ com_id   }  
	</update>
	
	<delete  id="deleteCompany">
	   DELETE  FROM  COMPANY
	    WHERE  COM_ID = #{ com_id  }
	</delete>
	
	<!-- 로그인 
	  arg0 : userid
	  arg1 : passwd
	-->
	<select  id = "login">
	  SELECT   
	       COM_ID,
	       COM_NAME,
	       COM_NUM,
	       COM_BOSS,
	       COM_PW       
	   FROM  
	       COMPANY
	   WHERE
	       COM_ID = #{ arg0 }  
	    AND
	       COM_PW = #{ arg1 }       
	</select>
  
  
  
 
  
	<select  id  = "getCompanyList"		
	    resultType = "com.TeamProject.company.domain.CompanyVo">
	    
	    SELECT     COM_ID,
	               COM_NAME,
	               COM_NUM,	                     
	               COM_BOSS,
	               COM_PW
	     FROM      COMPANY
	     ORDER BY  COM_ID  ASC 
	    
	</select>
  
</mapper>
